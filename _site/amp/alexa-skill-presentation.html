<!doctype html>
<html amp lang="en">
<head>
    <meta charset="utf-8">
    <title>Alexa Skill Presentation</title>
    <link rel="canonical" href="https://www.geekytidbits.com/alexa-skill-presentation/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Poly' rel='stylesheet'>
    <style amp-custom>
        body { font-family: 'Poly', serif; }
        .site-header { background-color: #237ab2; color: #e7e9ec; padding: 5px; font-weight: 100; border-bottom: 3px solid #f68905; }
        .site-description { font-size: .5em;}        
        .post-content { padding: 10px; }
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-video" src="https://cdn.ampproject.org/v0/amp-video-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
</head>

<body>
    
    <h1 class="post-title">
        <header class="site-header">
    <div class="wrapper">
        <a class="site-title" href="/">
            <amp-img src="/media/geekytidbits.png" width="383" height="46" alt="Geeky Tidbits Logo" layout="responsive"><noscript><img src="/media/geekytidbits.png" width="383" height="46" alt="Geeky Tidbits Logo"></noscript></amp-img>
        </a>
        <div class="site-description">Tidbits on software development, technology, and other geeky stuff.</div>
    </div>
</header>

    </h1>
    <div class="post-content">
      <span>
          <i>Oct 31, 2016</i>
      </span>
      <p>About a year ago I started attending the <a href="https://www.meetup.com/NodejsHouston/">Node.js Houston</a> (<a href="https://twitter.com/nodejshouston">@nodejshouston</a>) Meetup to meet some other JavaScript developers here in Houston and to, of course, learn more about Node.js and JavaScript. It’s a great meetup with a good amount of participation and solid presentations. Awhile back Alan, one of the organizers of the group asked if there was a topic I would like to present and we settled on me giving a presenation about Amazon Alexa which is something I’ve been playing around with quite a bit in the last few months. It was fun to prepare and present the material and I learned more about Alexa along the way.</p>

<p>The topic was “Controlling the Amazon Echo with JavaScript” and my goal was introduce Alexa, the SDK for Node.js, create a simple skill, deploy it to Lamda and test it with the Echo, all during the presentation. I really wanted those in attendance to think “Wow, this looks pretty easy to work with…I think I’ll give it a try myself”.</p>

<p>Here is the <a href="https://docs.google.com/presentation/d/1ICOJPCjiYj8cF1lPOZHCuHUz8TwKD915yghO2yA0PAw/edit?usp=sharing">presentation</a>:</p>

<amp-iframe src="https://docs.google.com/presentation/d/1ICOJPCjiYj8cF1lPOZHCuHUz8TwKD915yghO2yA0PAw/embed?start=false&amp;loop=false&amp;delayms=3000" width="750" height="450" layout="responsive" sandbox="allow-scripts"><div placeholder="placeholder">Loading...</div></amp-iframe>

<p>The skill I used during the presentation was called “Guitar Ace” and is a skill that plays guitar chords and helps you tune your guitar.  The repository for the skill is located here: <a href="https://github.com/bradymholt/alexa-guitar-ace">https://github.com/bradymholt/alexa-guitar-ace</a> and the bulk of the code is shown below:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Alexa</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"alexa-sdk"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">Resources</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./resources"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">guitarResources</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Resources</span><span class="p">(</span>
  <span class="s2">"https://s3.amazonaws.com/alexa-guitar-ace"</span>
<span class="p">);</span>

<span class="nx">exports</span><span class="p">.</span><span class="nx">handler</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">alexa</span> <span class="o">=</span> <span class="nx">Alexa</span><span class="p">.</span><span class="nx">handler</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
  <span class="nx">alexa</span><span class="p">.</span><span class="nx">registerHandlers</span><span class="p">(</span><span class="nx">handlers</span><span class="p">);</span>
  <span class="nx">alexa</span><span class="p">.</span><span class="nx">execute</span><span class="p">();</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">handlers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">LaunchRequest</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
      <span class="s2">":ask"</span><span class="p">,</span>
      <span class="s2">"Welcome to Guitar Ace. What do you want me to do?"</span><span class="p">,</span>
      <span class="s2">"Say something like play G Major or help me tune my guitar."</span>
    <span class="p">);</span>
  <span class="p">},</span>
  <span class="na">Tune</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
      <span class="s2">":tell"</span><span class="p">,</span>
      <span class="s2">`Happy Tuning &lt;audio src="</span><span class="p">${</span><span class="nx">guitarResources</span><span class="p">.</span><span class="nx">getTuneAudioUri</span><span class="p">()}</span><span class="s2">" /&gt;`</span>
    <span class="p">);</span>
  <span class="p">},</span>
  <span class="na">PlayChord</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">slots</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">.</span><span class="nx">intent</span><span class="p">.</span><span class="nx">slots</span><span class="p">;</span>
    <span class="kd">let</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">slots</span><span class="p">[</span><span class="s2">"Root"</span><span class="p">].</span><span class="nx">value</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="s2">"currentRoot"</span><span class="p">];</span>
    <span class="kd">let</span> <span class="nx">type</span> <span class="o">=</span> <span class="nx">slots</span><span class="p">[</span><span class="s2">"Type"</span><span class="p">].</span><span class="nx">value</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">root</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
        <span class="s2">":ask"</span><span class="p">,</span>
        <span class="s2">"Ok, what chord should I play?"</span><span class="p">,</span>
        <span class="s2">"Just say the name of the chord."</span>
      <span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">root</span> <span class="o">&amp;&amp;</span> <span class="nx">guitarResources</span><span class="p">.</span><span class="nx">hasRoot</span><span class="p">(</span><span class="nx">root</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// User said root chord but not the type so ask them for the type</span>

      <span class="c1">// Save current root in session so we will have access to it next time</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="s2">"currentRoot"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">root</span><span class="p">;</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
        <span class="s2">":ask"</span><span class="p">,</span>
        <span class="s2">`Sure, I can play the </span><span class="p">${</span><span class="nx">root</span><span class="p">}</span><span class="s2"> chord.  What type?`</span><span class="p">,</span>
        <span class="s2">`Say something like </span><span class="p">${</span><span class="nx">root</span><span class="p">}</span><span class="s2"> major or </span><span class="p">${</span><span class="nx">root</span><span class="p">}</span><span class="s2"> seven.`</span>
      <span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">attributes</span><span class="p">[</span><span class="s2">"currentRoot"</span><span class="p">]</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

      <span class="kd">let</span> <span class="nx">chord</span> <span class="o">=</span> <span class="nx">guitarResources</span><span class="p">.</span><span class="nx">getChord</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nx">type</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">chord</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
          <span class="s2">":ask"</span><span class="p">,</span>
          <span class="s2">"I do not know that chord.  Please say another chord"</span><span class="p">,</span>
          <span class="s2">"Say something like C 7."</span>
        <span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span>
          <span class="s2">":tellWithCard"</span><span class="p">,</span>
          <span class="s2">`&lt;audio src="</span><span class="p">${</span><span class="nx">chord</span><span class="p">.</span><span class="nx">audioUri</span><span class="p">}</span><span class="s2">"/&gt;`</span><span class="p">,</span>
          <span class="nx">chord</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
          <span class="nx">chord</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
          <span class="p">{</span> <span class="na">largeImageUrl</span><span class="p">:</span> <span class="nx">chord</span><span class="p">.</span><span class="nx">imageUri</span><span class="p">,</span> <span class="na">smallImageUrl</span><span class="p">:</span> <span class="nx">chord</span><span class="p">.</span><span class="nx">imageUri</span> <span class="p">}</span>
        <span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s2">"AMAZON.HelpIntent"</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s2">":tell"</span><span class="p">,</span> <span class="s2">"Say something like play G Major or tune my guitar."</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

    </div>
    
    <footer class="site-footer">
    © 2019 Brady Holt
</footer>

    <amp-analytics type="googleanalytics">
        <script type="application/json">
        {
            "vars": {
            "account": "UA-19416043-2"
            },
            "triggers": {
            "trackPageview": {
                "on": "visible",
                "request": "pageview"
            }
            }
        }
        </script>
    </amp-analytics>
</body>

</html>