<!doctype html>
<html amp lang="en">
<head>
    <meta charset="utf-8">
    <title>Koa / Vue.js SPA Template</title>
    <link rel="canonical" href="https://www.geekytidbits.com/koa-vue-template/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Poly' rel='stylesheet'>
    <style amp-custom>
        body { font-family: 'Poly', serif; }
        .site-header { background-color: #237ab2; color: #e7e9ec; padding: 5px; font-weight: 100; border-bottom: 3px solid #f68905; }
        .site-description { font-size: .5em;}        
        .post-content { padding: 10px; }
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-video" src="https://cdn.ampproject.org/v0/amp-video-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
</head>

<body>
    
    <h1 class="post-title">
        <header class="site-header">
    <div class="wrapper">
        <a class="site-title" href="/">
            <amp-img src="/media/geekytidbits.png" width="383" height="46" alt="Geeky Tidbits Logo" layout="responsive"><noscript><img src="/media/geekytidbits.png" width="383" height="46" alt="Geeky Tidbits Logo"></noscript></amp-img>
        </a>
        <div class="site-description">Tidbits on software development, technology, and other geeky stuff.</div>
    </div>
</header>

    </h1>
    <div class="post-content">
      <span>
          <i>Jun 27, 2017</i>
      </span>
      <p>A few months back, I tackled building an <a href="/asp-dotnet-core-react-template-update/">ASP.NET Core / React SPA template</a>.  Then, wanting to play with Vue.js, I created <a href="https://github.com/bradymholt/aspnet-core-vuejs-template">another template</a> with the same ASP.NET Core backend but switched out the frontend with Vue.js.  Those templates were fun to build and I learned quite a few things along the way.</p>

<p>I really enjoyed working with Vue.js and have recently been wanting to play around with <a href="http://koajs.com/">Koa 2</a>, especially since it works with async/await out of the box.  So, I decided to use the Vue.js frontend I had swapped out previously and to swap out the ASP.NET Core backend with Koa.</p>

<p>Ok, let’s summarize my crazy templating activity lately because it’s gotten a little complicated:</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th>Template 1</th>
      <th>Template 2</th>
      <th>Template 3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Backend</strong></td>
      <td>ASP.NET Core</td>
      <td>ASP.NET Core</td>
      <td>Koa 2/Node</td>
    </tr>
    <tr>
      <td><strong>Frontend</strong></td>
      <td>React</td>
      <td>Vue.js</td>
      <td>Vue.js</td>
    </tr>
    <tr>
      <td> </td>
      <td><a href="https://github.com/bradymholt/aspnet-core-react-template">Link</a></td>
      <td><a href="https://github.com/bradymholt/aspnet-core-vuejs-template">Link</a></td>
      <td><a href="https://github.com/bradymholt/koa-vuejs-template">Link</a></td>
    </tr>
  </tbody>
</table>

<p>Using the same basic <em>functionality</em> for the templates and swapping out the frameworks/languages used has turned out to be effective for learning because I have been able to focus on the ins-and-outs of the technology I am working with instead of getting caught up on the functionality of the app.  Also, it’s been fun comparing the implementation differences bettwen them.  For example, setting up JWT authentication with Koa 2/Node was a cake walk compared with getting it to work in ASP.NET Core!</p>

<p>Now, about the Koa / Vue template.  It took about a week to knock out and I <em>really</em> enjoyed working with both Koa and Vue.js.  As part of scaffolding the Koa app, I came across <a href="https://github.com/typeorm/typeorm">TypeORM</a> which is in alpha currently but is a really nice TypeScript based ORM that works well with PostgreSQL.  Also, by the same talented developer (<a href="https://github.com/pleerock">Umed Khudoiberdiev</a>), I used <a href="https://github.com/pleerock/routing-controllers">routing-controllers</a> which takes advantage of TypeScript decorators to build really clean Koa controllers.  Using this library  <em>feels</em> like setting up ASP.NET Core controllers, which I consider a good thing.</p>

<p>Here is what the app <em>looks</em> like:</p>

<p><amp-img src="/media/spa-template.gif" alt="Koa Vue Template" class="block" width="1018" height="559" layout="responsive"><noscript><img src="/media/spa-template.gif" alt="Koa Vue Template" class="block" width="1018" height="559"></noscript></amp-img></p>

<p>Here is a survey of all the tools, technologies, concepts, etc. that went into this template project.  Admittedly, I didn’t <em>have</em> to use all of these but it was fun to do so and I learned a lot.</p>

<h2 id="server">Server</h2>

<ul class="condensed">
<li>Koa 2</li>
<li>PostgresSQL</li>
<li>TypeScript</li>
<li>TypeORM (data-mapper ORM)</li>
<li>routing-controllers (decorated, class-based controllers in Koa)</li>
<li>Docker used for development PostgresSQL database and MailHog server</li>
</ul>

<h2 id="client">Client</h2>

<ul class="condensed">
<li>Vue.js</li>
<li>Single-file components (.vue)</li>
<li>TypeScript</li>
<li>Webpack for asset bundling and HMR (Hot Module Replacement)</li>
<li>Bootstrap CSS</li>
<li>Fetch API for REST requests</li>
</ul>

<h2 id="testing">Testing</h2>

<ul class="condensed">
<li>Mocha</li>
<li>Chai</li>
<li>TypeScript</li>
<li>MailHog for development email delivery</li>
</ul>

<h2 id="devops">DevOps</h2>

<ul class="condensed">
<li>Ansible playbook for provisioning (Nginx reverse proxy, SSL via Let's Encrypt, PostgresSQL backups to S3)</li>
<li>Ansible playbook for deployment</li>
</ul>

<h2 id="source">Source</h2>

<p>Here is the GitHub repo with the template source: <a href="https://github.com/bradymholt/koa-vuejs-template">https://github.com/bradymholt/koa-vuejs-template</a></p>

    </div>
    
    <footer class="site-footer">
    © 2019 Brady Holt
</footer>

    <amp-analytics type="googleanalytics">
        <script type="application/json">
        {
            "vars": {
            "account": "UA-19416043-2"
            },
            "triggers": {
            "trackPageview": {
                "on": "visible",
                "request": "pageview"
            }
            }
        }
        </script>
    </amp-analytics>
</body>

</html>